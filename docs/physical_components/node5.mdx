---
title: 'Node 5: Light Intensity, Loud Noise and Color Detector'
description: Monitors environmental light, sound, and color, adjusting system responses for optimal ambiance control.
---

import nodeImage from '@site/static/img/node5/Light.jpg';
import mkr1010 from '@site/static/img/components_images/Arduino_MKR_1010.png';
import mkr1010_2 from '@site/static/img/components_images/Arduino_MKR_1010_2.png';
import color from '@site/static/img/components_images/Color-Sensor.png';
import ldr from '@site/static/img/components_images/LDR.png';
import sound from '@site/static/img/components_images/LM393_Sound_Sensor.png';
import rgbLED from '@site/static/img/components_images/RGB_LED.png';
import redLED from '@site/static/img/components_images/Red_LED.webp';
import yellowLED from '@site/static/img/components_images/Yellow_LED.jpg';
import PinConnectionsTable from '@site/src/pages/PinConnectionsTable.js';
import circuitDiagram from '@site/static/img/node5/Loud-Noise-Light-Intensity-and-Color-Detector_Circuit_Diagram_bb.png';

# Node 5: Light Intensity, Loud Noise and Color Detector

The Light Intensity, Loud Noise, and Color Detector Node utilizes an Arduino MKR 1010 to monitor environmental parameters such as light, sound, and color, making it essential for applications requiring ambient condition monitoring like smart homes or adaptive lighting systems in galleries. It adjusts its outputs based on the collected data, enhancing user experience through responsive environmental interaction.

<img src={nodeImage} 
alt="Light Intensity, Loud Noise and Color Detector" 
style={{ 
    width: '75%', 
    display: 'block', 
    margin: '20px auto' }} />

## Components Summary

<div style={{ display: 'flex', justifyContent: 'center', margin: '20px' }}>
  <table style={{ width: '75%', borderCollapse: 'collapse' }}>
    <thead>
      <tr>
        <th style={{ padding: '8px', width: '30%', textAlign: 'center' }}>Component Type</th>
        <th style={{ padding: '8px', width: '70%', textAlign: 'center' }}>Component Name</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style={{ padding: '8px', textAlign: 'right' }}>Controller</td>
        <td style={{ padding: '8px' }}>
          <a href="#controller-arduino-mkr-wifi-1010">Arduino MKR 1010</a>
        </td>
      </tr>
      <tr>
        <td style={{ padding: '8px', textAlign: 'right' }}>Sensor</td>
        <td style={{ padding: '8px' }}>
          <a href="#sensor-tcs3200-color-sensor">TCS3200 Color Sensor</a>
        </td>
      </tr>
      <tr>
        <td style={{ padding: '8px', textAlign: 'right' }}></td>
        <td style={{ padding: '8px' }}>
          <a href="#sensor-analog-ambient-light-sensor-ldr">Analog Ambient Light Sensor, LDR</a>
        </td>
      </tr>
      <tr>
        <td style={{ padding: '8px', textAlign: 'right' }}></td>
        <td style={{ padding: '8px' }}>
          <a href="#sensor-lm393-sound-sensor">LM393 Sound Sensor</a>
        </td>
      </tr>
      <tr>
        <td style={{ padding: '8px', textAlign: 'right' }}>Actuator</td>
        <td style={{ padding: '8px' }}>
          <a href="#actuator-led">Red LED</a>
        </td>
      </tr>
      <tr>
        <td></td>
        <td style={{ padding: '8px' }}>
          <a href="#actuator-led">Yellow LED</a>
        </td>
      </tr>
      <tr>
        <td></td>
        <td style={{ padding: '8px' }}>
          <a href="#actuator-rgb-led">RGB LED</a>
        </td>
      </tr>
    </tbody>
  </table>
</div>

## Components Overview

### Controller: Arduino MKR WiFi 1010

The Arduino MKR WiFi 1010 is a powerful IoT development board that offers notable application features for various projects. Equipped with built-in Wi-Fi connectivity, it simplifies wireless communication and data transmission, making it ideal for IoT applications. The MKR 1010 boasts a low-power design, ensuring efficient energy usage and enabling battery-operated devices. Its compatibility with the Arduino IDE and a wide range of sensors and peripherals simplifies rapid prototyping for projects like remote monitoring, home automation, and data logging. Additionally, the MKR 1010 supports SSL communication for secure connections, enhancing its suitability for applications where data security is essential, such as smart home systems, environmental monitoring, and remote sensing projects. Its compact form factor and advanced features make it a valuable tool for IoT enthusiasts and professionals alike.

<img src={mkr1010} 
alt="Arduino MKR WiFi 1010" 
style={{ 
    width: '75%', 
    display: 'block', 
    margin: '20px auto' }} />
    
<img src={mkr1010_2} 
alt="Arduino MKR WiFi 1010" 
style={{ 
    width: '75%', 
    display: 'block', 
    margin: '20px auto' }} />

#### Technical Specifications and Features
- **Microcontroller**: Microchip ATSAMD21G18 microcontroller, featuring a 32-bit ARM Cortex-M0+ processor.
- **Operating Voltage**: 3.3V
- **Input Voltage (Recommended)**: 5V via USB or Li-Po battery
- **Digital I/O Pins**: 8, including PWM support
- **Analog Input Pins**: 7 with ADC
- **UART Ports**: 1 for serial communication
- **SPI Interface**: 1 for communication with other devices
- **I2C Interface**: 1 for inter-device communication
- **Flash Memory**: 256KB with 4KB reserved for bootloader
- **SRAM**: 32KB for temporary data storage
- **Clock Speed**: 48MHz
- **Wireless Connectivity**: Wi-Fi (2.4 GHz band, IEEE 802.11 b/g/n)
- **Crypto Chip**: ECC508 for secure communication
- **USB Port**: Micro USB for programming and power
- **Li-Po Battery Connector**: JST-PH2 for connecting Li-Po battery
- **Charging Current**: 450mA
- **Operating Temperature**: -40°C to +85°C
- **Dimensions**: 61.5mm (length) x 25mm (width)
- **Weight**: Approximately 32 grams

#### References
- [Arduino MKR 1010 Datasheet](@site/static/datasheets/Arduino_MKR_WiFi_1010.pdf)
- [Arduino MKR 1010 Pinout](@site/static/datasheets/Arduino_MKR_WiFi_1010_Pinout.pdf)

### Sensor: TCS3200 Color Sensor

The TCS3200 Color Sensor is a versatile device widely used for detecting and measuring colors in electronic projects and applications. This sensor employs an array of photodiodes to capture light reflected from an object and then separates it into its red, green, and blue (RGB) components. It provides highly accurate color readings by converting the light intensity into digital values. The TCS3200's ability to sense a wide range of colors across different lighting conditions makes it valuable for color detection, sorting, and calibration tasks. It communicates with microcontrollers via simple digital inputs and outputs, making it easily integrated into various projects. Whether in industrial automation, robotics, or artistic installations, the TCS3200 Color Sensor offers precise and reliable color measurement capabilities.

<img src={color} 
alt="TCS3200 Color Sensor" 
style={{ 
    width: '75%', 
    display: 'block', 
    margin: '20px auto' }} />

#### Technical Specifications and Features
- **Photodiode Array**: TCS3200 has an 8 × 8 array of photodiodes, with each photodiode measuring 110 μm × 110 μm in size.
- **Photodiode Positioning**: The photodiodes in TCS3200 are positioned on 134 μm centers.
- **Output Frequency**: TCS3200 provides an output frequency (fo) which can be enabled or disabled using the OE pin.
- **Output Frequency Scaling**: The output frequency scaling can be selected using the S0 and S1 pins, with options for power down, 2%, 20%, and 100% scaling.
- **Photodiode Type Selection**: The type of photodiode can be selected using the S2 and S3 pins, with options for red, blue, clear (no filter), and green.
- **Supply Voltage**: TCS3200 operates with a supply voltage of 2.7V to 5.5V.
- **Temperature Range**: TCS3200 can operate in a temperature range of -40°C to 85°C.

#### References
- [TCS3200 Datasheet](@site/static/datasheets/TCS3200.pdf)

### Sensor: Analog Ambient Light Sensor, LDR

The Analog Ambient Light Sensor is a versatile module designed for detecting ambient light levels. It utilizes a high-quality photoresistor to convert light intensity into electrical signals. With its analog voltage output, it can provide real-time measurements of the surrounding light conditions, making it ideal for applications such as automatic lighting control or ambient brightness adjustment in displays.

<img src={ldr} 
alt="LDR" 
style={{ 
    width: '75%', 
    display: 'block', 
    margin: '20px auto' }} />

#### Technical Specifications and Features
- **Supply Voltage**: 3.3V to 5V
- **Illumination Range**: 1 Lux to 6000 Lux
- **Responsive Time**: 15us
- **Interface**: Analog
- **Size**: 22x30mm (0.87"x1.18")

#### References
- [Analog Ambient Light Sensor, LDR Datasheet](@site/static/datasheets/LDR.pdf)

### Sensor: LM393 Sound Sensor

The LM393 Sound Sensor is a compact and reliable module designed to detect sound levels in its environment. This sensor is equipped with a built-in electret microphone that converts sound waves into electrical signals. It provides a simple digital output, which goes low when sound intensity surpasses a predefined threshold, making it suitable for sound-activated applications like clap switches or noise-triggered alarms.

<img src={sound} 
alt="LM393 Sound Sensor" 
style={{ 
    width: '75%', 
    display: 'block', 
    margin: '20px auto' }} />

#### Technical Specifications and Features
- **Working Voltage**: DC 3.3-5V
- **Adjustable Sensitivity**
- **Dimensions**: 32 x 17 mm
- **Signal Output Indication**
- **Single-channel Signal Output**
- **With Retaining Bolt Hole for Convenient Installation**
- **Outputs Low Level and Signal Light When There is Sound**
- **Output in the Form of Digital Switching Outputs (0 and 1 High and Low)**

#### References
- [LM393 Sound Sensor Datasheet](@site/static/datasheets/lm35.pdf)

### Actuator: RGB LED

The 5mm RGB LED (Light-Emitting Diode) is a versatile and compact lighting component that combines three individual LEDs in one package—red, green, and blue. This RGB LED can emit a wide range of colors by independently controlling the intensity of each primary color channel. It is commonly used in various applications, such as mood lighting, signage, and visual displays, where dynamic and customizable lighting effects are desired. These LEDs are easy to interface with microcontrollers and can be programmed to create stunning and vibrant color displays.

<img src={rgbLED} 
alt="RGB LED" 
style={{ 
    width: '50%', 
    display: 'block', 
    margin: '20px auto' }} />

#### Technical Specifications and Features
- **LED Configuration**: Common Cathode
- **Forward Voltage**: 3.3 ~ 5V
- **Reverse Current**: 50 μA
- **Continuous Forward Current**: 20 mA
- **Power Dissipation**: 100 mW
- **LED Color**: Clear
- **LED Diameter**: 5 mm
- **Number of Pins**: 4
- **Operating Temperature**: -40 ~ 85°C
- **Mounting Type**: Through Hole

#### References
- [RGB LED Datasheet](@site/static/datasheets/RGB_LED.pdf)

### Actuator: LED

LEDs, or Light Emitting Diodes, are semiconductor devices that emit light when an electric current is applied. Known for their energy efficiency, compact size, and long life, LEDs are extensively used across various applications including electronic devices, display panels, indicators, and general lighting. Their ability to be manufactured in various colors and sizes makes LEDs exceptionally versatile for design and functional purposes in numerous projects.

<div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>
    <img src={redLED} 
         alt="Red LED" 
         style={{ 
            width: '25%', 
            display: 'block', 
            margin: '20px auto'  }} />

    <img src={yellowLED} 
         alt="Yellow LED" 
         style={{ 
            width: '25%', 
            display: 'block', 
            margin: '20px auto'  }} />
</div>

#### Technical Specifications and Features
- **Dice Material**: Gallium Arsenide Phosphide on Gallium Phosphide (GaAsP on GaP/GaP).
- **Emitted Colors**: Available in Green and Red.
- **Lens Color**: Green Diffused and Red Diffused.
- **Peak Wavelength**:
  - Green: 568 nm
  - Red: 587 nm
- **Viewing Angle**: 45 degrees, offering focused illumination.
- **Luminous Intensity (IV)**:
  - Green: 15 mcd
  - Red: 14 mcd

#### References
- [Yellow LED Datasheet](@site/static/datasheets/Yellow_Green_LED.pdf)
- [Red LED Datasheet](@site/static/datasheets/Red_LED.pdf)

## Communication Protocols

### Controller Communication

The Arduino MKR 1010 controller communicates with the ThingsBoard server using two primary protocols: Wi-Fi and MQTT.

#### Wi-Fi Connection
The Arduino MKR 1010 establishes a connection to a local Wi-Fi network, granting it access to the internet. This connection serves as the foundation for communicating with external services like the ThingsBoard server.

#### MQTT Protocol
For transmitting data between the controller and the ThingsBoard server, the Message Queuing Telemetry Transport (MQTT) protocol is utilized. MQTT is chosen for its lightweight and efficient design, making it suitable for remote devices with limited resources. It enables the publication of data from the controller to the server and supports subscriptions to commands or acknowledgments from the server. MQTT ensures secure and reliable communication, essential for real-time data visualization and monitoring on the ThingsBoard dashboard. Access events generated by the controller are published to the server and visualized on the dashboard, providing insights into system performance and access patterns.

### Sensor Communication

The communication between the Arduino MKR 1010 controller and various sensors employs different protocols based on the sensor type.

#### Analog Ambient Light Sensor (LDR)
The analog ambient light sensor communicates with the controller using analog data. It generates voltage levels proportional to the detected light intensity, which the controller reads to determine ambient light levels. The controller processes this analog data to make decisions or trigger actions based on light intensity variations.

#### LM393 Sound Sensor
The LM393 sound sensor communicates with the controller using digital data. It typically outputs a digital signal representing sound intensity or noise levels. The controller reads this digital signal to monitor the sound environment and responds accordingly, such as activating a red LED notification when sound levels exceed a predefined threshold.

#### TCS3200 Color Sensor
Communication with the TCS3200 color sensor involves a specific protocol for color detection. The sensor provides color information through digital signals, utilizing a combination of control signals and data lines to communicate the detected color to the controller. The controller processes these signals to identify and reproduce the detected color, often by illuminating an RGB LED with the corresponding color values. The precise details of the TCS3200 communication protocol depend on the specific library or driver used for interfacing with the sensor but typically involve a combination of clock and data signals for accurate color data transmission.

## Pin Connections
This section provides details about the pin connections between the components used in the node and the Arduino MKR 1010 controller.

### TCS3200 Module Pin Connections

<PinConnectionsTable
  data={[
    ["TCS3200", "", "Arduino MKR 1010"],
    ["VCC", <span className="wire"><span className="wire-red"></span></span>, "3.3V"],
    ["GND", <span className="wire"><span className="wire-black"></span></span>, "GND"],
    ["S0", <span className="wire"><span className="wire-blue"></span></span>, "5"],
    ["S1", <span className="wire"><span className="wire-blue"></span></span>, "6"],
    ["S2", <span className="wire"><span className="wire-blue"></span></span>, "7"],
    ["S3", <span className="wire"><span className="wire-blue"></span></span>, "8"],
    ["OUT", <span className="wire"><span className="wire-blue"></span></span>, "9"],
    ["LED", <span className="wire"><span className="wire-blue"></span></span>, "10"]
  ]}
/>

### LDR Module Pin Connections

<PinConnectionsTable
  data={[
    ["LDR", "", "Arduino MKR 1010"],
    ["VCC", <span className="wire"><span className="wire-red"></span></span>, "3.3V"],
    ["GND", <span className="wire"><span className="wire-black"></span></span>, "GND"],
    ["Signal Out", <span className="wire"><span className="wire-blue"></span></span>, "A1"]
  ]}
/>

### LM393 Sound Sensor Module Pin Connections

<PinConnectionsTable
  data={[
    ["LM393 Sound Sensor", "", "Arduino MKR 1010"],
    ["VCC", <span className="wire"><span className="wire-red"></span></span>, "3.3V"],
    ["GND", <span className="wire"><span className="wire-black"></span></span>, "GND"],
    ["Signal Out", <span className="wire"><span className="wire-blue"></span></span>, "A2"]
  ]}
/>

### Red LED Pin Connections

<PinConnectionsTable
  data={[
    ["Red LED", "", "Arduino MKR 1010"],
    ["Anode (+)", <span className="wire"><span className="wire-blue"></span></span>, "0"],
    ["Cathode (-)", <span className="wire"><span className="wire-black"></span></span>, "GND"]
  ]}
/>

### Yellow LED Pin Connections

<PinConnectionsTable
  data={[
    ["Yellow LED", "", "Arduino MKR 1010"],
    ["Anode (+)", <span className="wire"><span className="wire-blue"></span></span>, "1"],
    ["Cathode (-)", <span className="wire"><span className="wire-black"></span></span>, "GND"]
  ]}
/>

### RGB LED Pin Connections

<PinConnectionsTable
  data={[
    ["RGB LED", "", "Arduino MKR 1010"],
    ["R (+)", <span className="wire"><span className="wire-blue"></span></span>, "2"],
    ["G (+)", <span className="wire"><span className="wire-blue"></span></span>, "3"],
    ["B (+)", <span className="wire"><span className="wire-blue"></span></span>, "4"],
    ["Cathode (-)", <span className="wire"><span className="wire-black"></span></span>, "GND"]
  ]}
/>

## Circuit Diagram
<img src={circuitDiagram} 
alt="Circuit Diagram" 
style={{ 
    //maxWidth: '700px', 
    display: 'block', 
    margin: '20px auto' }} />

## Link to Code Explanation and Tutorial

For a comprehensive guide on programming this node, including detailed code explanations and step-by-step tutorials, please refer to the following link. This resource provides all necessary information to understand the functioning of the node, enabling users to effectively program and customize it according to their specific requirements.

[Visit the Node Programming Guide and Code Explanation](/docs/tutorial/node_code_explained.mdx)
